# 1.2 기초이론 - 컴퓨터 구조와 파일

1. 컴퓨터 구조
CPU - 메모리(주기억장치)
    - 주변장치
      (보조기억장치, 프린터, 키보드, 디스플레이 등)

2. CPU와 메모리
CPU는 메모리와 대화한다.
프로세스(실행중인 프로그램)는 메모리 안에!
32bit CPU / 64bit CPU

3. 메모리와 보조기억장치
로딩?
영구적인 저장

### 데이터를 구성하는 <약속>
- 숫자를 다루는 체계
- 문자를 다루는 체계
- 소프트웨어 별로 독립적으로 다루는 체계

4. 파일
데이터를 구성하는 <약속>에 따라서 010101..을 기록
파일명이나 확장자는 파일 자체를 구분하는 이외의 역할이 없음  
*.jpg라고 이미지 파일이라고 장담 할 수 없음.  
다만 실제 파일 내부의 데이터가 약속을 따르는지가 중요함.  
텍스트파일...  
이미지파일...  
오디오파일...  
포토샵파일...  
기타 등등...  
실행파일!? (프로그램) 

<인코딩>이란 문자를 표현하기 위한 약속

ASCII(최초의 인코딩)
- 수와 문자열을 1:1로 맵핑 
- 0 ~127까지 (7bit)

ANSI...
- ASCII를 확장한 1byte(8bit) 인코딩

Unicode...
전세계의 모든 문자를 일관되게 표현 할 수 있게 설계된 산업 표준  
전세계 문자를 <효율적으로> 1:1로 맵핑했다고 보셔도 됩니다.

그 중에 UTF-8 인코딩은
- 가변 길이 인코딩(1~4byte 까지)
- ASCII와의 호환성
- 웹 및 다양한 산업에서의 대표주자
- 앞으로 특이사항이 없으면 표준으로 UTF-8을 씁니다.

실행 파일
- 다른 파일과 다른 특수한 파일인가?
- 실행 파일(프로그램)은 운영체제에 종속된 파일 포맷을 따름

# 1.3 프로그램과 프로세스

## 운영체제
- 부팅시 실행되는 하나의 (시스템) 프로그램
- 주변기기들을 상호 연결하고 제어
- 응용 프로그램이 사용 할 수 있는 서비스/라이브러리를 제공  
  - 보조기억 장치를 추상화한 파일시스템 API를 제공
  - 주변기기를 추상화한 API를 제공
  - 네트워크를 추상화한 API를 제공
  - 공통적인 GUI를 만들 수 있도록 API를 제공  
  ***이 떄문에! 프로그램은 운영체제에 종속적이다.***

- 응용 프로그램의 실행
  - explorer.exe, Finder...
  - 멀티태슼킹을 위한 스케쥴링  
  ***이 때문에! 프로그램은 운영체제에 종속적이다.***

- 사용자 계정 관리 및 보안

#### API?
>API(Application Programming Interface, 응용프로그램 프로그래밍 인터페이스)  
응용 프로그램에서 사용할 수 있도록, 운영 체제나 프로그래밍 언어가 제공하는  
기능을 제어할 수 있게 만든 인터페이스를 뜻한다.

#### 인터페이스?
>인터페이스(영어: interface, 문화어: 대면부,결합부) 또는 접속기는 사물간  
또는 사물과 인간 간의 의사소통이 가능하도록 일시적 혹은 영속전인 접근을    
목적으로 만들어진 물리전, 가상적 매개체를 의미한다.

...?
니가 프로그램 만들 때 어떤 어떤 기능을 쓸 수 있게 미리코드를 준비를 해둿어 
이러이러한 방식대로만 코드를 쓰면 되니까 설명서 잘 읽고 잘 써먹어!

## 프로그램

- 기계어(명령어, Instruction)
  - 0x00000FF는 더하기!
  - 0x00000FE는 빼기!
  <CPU 아키텍쳐> 이런 기계어와 하드웨어의 기능을 맵핑 한 것을

- 어셈블리어
  - add는 0x000000FF라는 
  - sub는 0x000000FE

- 프로그래밍 언어
  - x + y라는 코드는 add x y

이때 프로그래밍 언어로 작성된 <소스코드는 단순한 텍스트> 파일

><컴파일>이란 [텍스트 파일 => 어셈블리어 => 기계어] 의 번역을 통해    
소스코드를 CPU가 실행가능한 포맷으로 만드는 과정    
>>번역된 파일을 <실행 파일(프로그램)>이라고 합니다.
  또한 번역하는 프로그램!은 <컴파일러>라고 합니다.

!!! 컴파일된 프로그램은 <운영체제>와 <CPU의 아키텍쳐>에 종속적이다.

=================

리눅스에서 컴파일한 프로그램은 윈도우에서 실행되지 않는다.    
Intel 아키텍쳐에 맞게 컴파일한 프로그램은 ARM 아키텍쳐 CPU를 쓰는 커뮤터에서 실행되지 않는다.

그렇다면....
Intel 윈도우에서 작성한 소스코드(텍스트 파일)을 복사해서 ARM 윈도우에서 컴파일하면? 문제 없습니다.

한번 더...
Intel 리눅스에서 작성한 소스코드를 복사해서 ARM 윈도우에서 컴파일하면?   
될 수도 있고 안될 수도 있습니다.....
소스코드에서 리눅스 운영체제에 종속적인 기능을 사용한다면 (GUI API 등) 실행 
불가

> POSIX   
POSIX는 이식 가능 운영 체제 인터페이스의 약자로, 서로 다른 UNIX OS의 공통 API를 정리하여    
이식성이 높은 유닉스 응용 프로그램을 개발하기 위한 목적으로
IEEE가 책정한 애플리케이션 인터페이스 규격이다.
유닉스 계열 외엥 마이크로소프트 윈도 NT는 POSIX 1.0에 준하는 POSIX 서브 시스템을 탑재하고 있으며, POSIX 으용 프로그램을 서브 시스템에서 실행할 수 있다.

결론은 상황에 따라 다르며, 그 플랫폼에 따라서 차이가 있을 수 있습니다.
하지만 기억할 점은
    기본적으로 <프로그램은 CPU의 아키텍쳐와, 운영체제에>종속적이다.


프로그램 => 운영체제의 실행 => 프로세스
```
4GB===================
운영체제가 사용하는 공간
3GB===================
Stack(함수가 실행되는 공간)
----------------------
사용되지 않는 공간
----------------------
Heap(동적으로 데이터 로드)
1GB===================

Data

----------------------

Text (code)

0=====================
```
### 요약
1. 아키텍쳐, 명령어 집합   
CPU가 처리 할 수 있는 단순한 명령어(기계어)들의 집합으로 하드에어 수준에서 설계 됨
2. 소스코드   
사람이 이해하기 쉬운 프로그래밍 언어로 프로그램의 작동을 묘사한 텍스트 파일
3. 컴파일, 컴파일러    
소스코드를 기계어로 번역하는 과정, 그리고 번역을 담당하는 프로그램
4. 프로그램    
운영체제와 CPU에 종속적인 실행 가능한 파일
5. 프로세스   
운영체제가 메모리에 프로그램을 복사하여 CPU가 처리중인 (실행중인) 프로그램
